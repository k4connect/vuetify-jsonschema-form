import{_ as i}from"./code-block.b932c093.js";import{u as r}from"./vue.f36acd1f.4fff3e63.js";import{E as p,A as n,M as l,t as d,x as e,y as c,z as o,B as t}from"./entry.6803ef97.js";import{V as u}from"./VAlert.97d8c3e0.js";import{V as h}from"./VContainer.71280a51.js";import"./prism.787a2285.js";import"./VBtn.f5a36c98.js";import"./VGrid.613d977e.js";const m=e("p",null,"Expressions are used throughout VJSF to provide dynamic functionalities like conditional rendering, fetching items of a select component, etc.",-1),_=e("p",null,'There are 3 types of expressions supported for the time being : "js-fn", "js-eval" and "js-tpl". All of them are compiled to Javascript functions that accept the same parameters.',-1),f=e("h2",{class:"text-h4 my-6"}," Parameters ",-1),x=e("ul",null,[e("li",null,[e("b",null,"data"),t(" - it varies depending on the expression you are using, it can be the data from the current node, an item in a select component, etc.")]),e("li",null,[e("b",null,"options"),t(" - the options object passed to VJSF then merged with contextual options from all parent nodes.")]),e("li",null,[e("b",null,"context"),t(' - shortcut for "options.context".')]),e("li",null,[e("b",null,"display"),t(" - the display object used to manage responsive layouts.")])],-1),b=e("pre",null,`{
  width: number // the width of the parent container
  xs: boolean,
  sm: boolean,
  smAndDown: boolean,
  smAndUp: boolean,
  md: boolean,
  mdAndDown: boolean,
  mobile: boolean, // alias for mdAndDown
  mdAndUp: boolean,
  lg: boolean,
  lgAndDown: boolean,
  lgAndUp: boolean,
  xl: boolean,
  xlAndDown: boolean,
  xlAndUp: boolean,
  xxl: boolean
}`,-1),y=e("h2",{class:"text-h4 my-6"}," Pure/impure expressions ",-1),w=e("p",null,"Expressions are considered as pure by default. It means that they should only use their input parameters, and no global variable. This allows for caching optimizations. It is possible to declare that an expression is not pure like this:",-1),g=e("pre",null,`{
  expr: '!!window.myVar',
  pure: false
}`,-1),v=e("p",null,"This kind of expression has access to some extra parameters:",-1),T=e("ul",null,[e("li",null,[e("b",null,"parentData"),t(" - the data of the parent node where this expression is evaluated.")]),e("li",null,[e("b",null,"rootData"),t(" - the root data of this vjsf instance.")])],-1),A=e("h2",{class:"text-h4 my-6"},[t(" Type "),e("code",null,"js-fn")],-1),V=e("p",null,"This type of expression lets you write the full body of a JS function including its return statement. It is compiled like this :",-1),k=e("h2",{class:"text-h4 my-6"},[t(" Type "),e("code",null,"js-eval")],-1),S=e("p",null,"This type of expression lets you write a single JS statement that will be evaluated and returned. It is compiled like this :",-1),j=e("p",null,[t("This is the default type when the expected result of the expression is a boolean or a complex object (like the "),e("code",null,"if"),t(" property).")],-1),J=e("h2",{class:"text-h4 my-6"},[t(" Type "),e("code",null,"js-tpl")],-1),D=e("p",null,[t("This type of expression lets you write a "),e("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals"},"JS template literal"),t(" that will be evaluated and returned. It is compiled like this :")],-1),F=e("p",null,[t("This is the default type when the expected result of the expression is a string (like the "),e("code",null,"url"),t(" property in a "),e("code",null,"fetch"),t(" instruction).")],-1),a="Expressions",R={__name:"expressions",setup(E){return r({title:"VJSF - "+a}),(I,U)=>{const s=i;return d(),p(l(h),{class:"doc-content-page"},{default:n(()=>[e("h1",{class:"text-h2 mb-8"},c(a)),o(l(u),{type:"warning",variant:"outlined",class:"mb-8"},{default:n(()=>[t(" Expressions are pieces of imperative code dispersed in a declarative JSON schema. You must consider schemas interpreted by VJSF as part of the code source of your application and you cannot safely use schemas provided by an untrusted source. ")]),_:1}),m,_,f,x,t(" Content of the display parameter: "),o(s,null,{default:n(()=>[b]),_:1}),y,w,o(s,null,{default:n(()=>[g]),_:1}),v,T,A,V,o(s,null,{default:n(()=>[t(" new Function(...params, expression) ")]),_:1}),k,S,o(s,null,{default:n(()=>[t(" new Function(...params, 'return (' + expression + ')') ")]),_:1}),j,J,D,o(s,null,{default:n(()=>[t(" new Function(...params, 'return `' + expression + '`') ")]),_:1}),F]),_:1})}}};export{R as default};
